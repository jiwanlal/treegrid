<div class="container">
    <cdk-virtual-scroll-viewport class="virtual-scroll-container" itemSize="18">
        <table class="tablehead">
            <thead>
                <tr>
                    <!-- <th resizable [style.top]="inverseOfTranslation">Col 1</th>
                    <th resizable [style.top]="inverseOfTranslation">Col 2</th>
                    <th [style.top]="inverseOfTranslation">Col 3</th> -->
                    <ng-container *ngFor="let data of headeritem">
                        <th *ngIf="data.show" resizable [style.top]="inverseOfTranslation">
                            <div (contextmenu)="onContextMenu($event, data,'headeraction')"> {{data.name}}</div>
                        </th>
                    </ng-container>


                </tr>
            </thead>
            <tbody>
                <tr *cdkVirtualFor="let node of dataSource, let i = index">

                    <ng-container *ngFor="let data of headeritem, let j = index">

                        <td [id]="j" (contextmenu)="onContextMenu($event, node,'tbodyaction')">
                            <div class="node" [style.padding-left]="node.level * 24 + 'px'">
                                <button class="expendbtn" (click)="treeControl.toggle(node)" *ngIf="node.hasChildren">
                                    <mat-icon> {{ treeControl.isExpanded(node) ? 'arrow_drop_up' : 'arrow_drop_down'
                                        }}
                                    </mat-icon>
                                </button>
                                {{ node.name }}
                            </div>
                        </td>

                        <!-- <td *ngIf=!data[j].isNode (contextmenu)="onContextMenu($event, node,'tbodyaction')">Col {{j+1}}
                            Value -
                            {{node.name}}</td> -->
                    </ng-container>


                </tr>
            </tbody>
        </table>
    </cdk-virtual-scroll-viewport>
    <div style="visibility: hidden; position: fixed" [style.left]="contextMenuPosition.x"
        [style.top]="contextMenuPosition.y" [matMenuTriggerFor]="contextMenu"></div>
    <mat-menu #contextMenu="matMenu">
        <ng-template matMenuContent let-item="item">
            <bi-contextmenu [contextMenu]="contextItem" (contextMenuVal)="onClickContextMenu($event)"></bi-contextmenu>
        </ng-template>
    </mat-menu>
</div>